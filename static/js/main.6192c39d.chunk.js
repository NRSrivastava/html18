(this.webpackJsonpmy_threads=this.webpackJsonpmy_threads||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),o=n(19),a=n.n(o),i=(n(57),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),o(e),a(e)}))}),r=n(8),l=n(9),p=n(12),u=n(11),d=(n(58),n(93)),j=n(31),h=n.n(j),b=n(36),g=n(35),m=n(6);var O=Object(b.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{signedIn:!1,name:"Sign In",user_image:"",points:"",accessToken:"",posts:[],postType:"public"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"userLogin":return Object(m.a)(Object(m.a)({},e),{},{signedIn:!0,name:t.payload.name,user_image:t.payload.user_image,points:t.payload.points,accessToken:t.payload.accessToken,postType:"new"});case"userLogout":return Object(m.a)(Object(m.a)({},e),{},{signedIn:!1,name:"Sign In",user_image:"",points:"",accessToken:"",postType:"public"});case"postTypeChange":return Object(m.a)(Object(m.a)({},e),{},{postType:t.payload});case"posts_add":return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(g.a)(e.posts),Object(g.a)(t.payload))});case"posts_replace":return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload});default:return e}}));function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n="http://ec2-52-206-109-241.compute-1.amazonaws.com/team2practo/posts/";fetch(n+t,{method:"GET",credentials:"include",headers:{"Content-type":"application/json;charset=UTF-8",authorization:e}}).then((function(e){e.json().then((function(e){O.dispatch({type:"posts_replace",payload:e})})).catch((function(e){console.log("error 2 "+e)}))})).catch((function(e){console.log("error 1 "+e)}))}function v(){var e=O.getState();if(e.signedIn)switch(e.postType){case"new":f(e.accessToken,"");break;case"popular":f(e.accessToken,"popular");break;case"trending":f(e.accessToken,"trending");break;case"me":f(e.accessToken,"me");break;default:f(e.accessToken,"popular")}else f();return e.signedIn}var x=n(2),y=function(e){console.log(e)},k=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={name:"Sign In",user_image:"",points:"",accessToken:"",logout_display:"none",login_func:!0},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.subscribe((function(){var t=O.getState();e.setState({name:t.name,user_image:t.user_image,points:t.points,accessToken:t.accessToken})}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{class:"header",children:[Object(x.jsx)("div",{class:"left",children:Object(x.jsx)("img",{src:"logo.png",alt:"MyThreads",style:{height:"100%"},class:"clickable"})}),Object(x.jsxs)("div",{className:"right",children:[Object(x.jsxs)("div",{className:"clickable",style:{display:"flex",alignItems:"center"},onClick:function(){e.state.login_func&&document.getElementById("googleLoginButton").click()},children:[Object(x.jsx)(d.a,{src:this.state.user_image,style:{margin:"10px"}}),Object(x.jsx)("h4",{style:{marginRight:"10px"},children:this.state.name})]}),Object(x.jsx)(h.a,{clientId:"752169556635-q0u04asvqip10b7kcckntcfcltm6ek39.apps.googleusercontent.com",render:function(e){return Object(x.jsx)("button",{id:"googleLoginButton",onClick:e.onClick,disabled:e.disabled,style:{display:"none"},children:"This is my custom Google button"})},buttonText:"Login",onSuccess:function(t){!function(e){console.log(e);var t=new XMLHttpRequest;t.open("POST","http://ec2-52-206-109-241.compute-1.amazonaws.com/team2practo/auth/api/oauth/"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){console.log("Signed in as: "+t.responseText);var e=JSON.parse(t.responseText);O.dispatch({type:"userLogin",payload:{signedIn:!0,name:e.name,user_image:e.image_link,points:e.points,accessToken:e.accessToken}}),v()},t.send("idtoken="+e.tokenId)}(t),e.setState({logout_display:"flex",login_func:!1})},onFailure:y,cookiePolicy:"single_host_origin"}),Object(x.jsx)(j.GoogleLogout,{clientId:"752169556635-q0u04asvqip10b7kcckntcfcltm6ek39.apps.googleusercontent.com",buttonText:"Logout",render:function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{class:"clickable",style:{display:e.state.logout_display,alignItems:"center",height:"20px"},onClick:t.onClick,disabled:t.disabled,children:Object(x.jsx)("h5",{style:{marginLeft:"10px",marginRight:"10px",marginBottom:"10px",marginTop:"10px"},children:"Logout"})})})},onLogoutSuccess:function(){fetch("http://ec2-52-206-109-241.compute-1.amazonaws.com/team2practo/auth/api/logout",{method:"DELETE",credentials:"include",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:e.state.accessToken}}).then((function(t){t.json().then((function(t){O.dispatch({type:"userLogout"}),e.setState({logout_display:"none",login_func:!0}),v(),console.log(t)})).catch((function(e){console.log("error 2 "+e)}))})).catch((function(e){console.log("error 1 "+e)}))}})]})]})}}]),n}(c.a.Component),_=n(30);n(66);var T=function(e){var t=e.Icon,n=e.title,s=e.clickMe,c=e.id;return Object(x.jsxs)("div",{className:"sideBarRow",onClick:s,id:c,children:[Object(x.jsx)("span",{className:"icon",children:Object(x.jsx)(t,{})}),Object(x.jsx)("h4",{children:n})]})},w=n(44),I=n.n(w),S=n(43),C=n.n(S),L=n(45),M=n.n(L),N=n(46),z=n.n(N);var A=function(){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 512.07 512.07",children:[Object(x.jsx)("path",{style:{fill:"#ca212e"},d:"M338.825 362.07l81.71-195-82.48-32.59 3.65 59.47-81.17-31.99-81.17 31.99 5.35-87.08-40.35-48.92-52.83-20.88 92.72 325zm-117.79-140h79v30h-79zm0 60h79v30h-79z"}),Object(x.jsx)("path",{style:{fill:"#ca212e"},d:"M215.375 96.91l-3.18 51.86 48.34-19.05 48.34 19.05c-.791-12.935-2.386-38.951-3.18-51.86l33.05-40.09-50.3-13L260.535 0l-27.91 43.82-50.3 13c7.972 9.663 25.227 30.588 33.05 40.09z"})]})},B=(n(67),function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={buttonArray:[]},s.buttonActive=s.buttonActive.bind(Object(_.a)(s)),s}return Object(l.a)(n,[{key:"buttonActive",value:function(e){O.dispatch({type:"postTypeChange",payload:e}),v()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{class:"leftSection",children:[Object(x.jsxs)("div",{class:"sidebar",children:[Object(x.jsx)(T,{title:"New",Icon:C.a,id:"sbr_new",clickMe:function(){e.buttonActive("new")}}),Object(x.jsx)(T,{title:"Popular",Icon:I.a,id:"sbr_popular",clickMe:function(){e.buttonActive("popular")}}),Object(x.jsx)(T,{title:"Trending",Icon:M.a,id:"sbr_trending",clickMe:function(){e.buttonActive("trending")}}),Object(x.jsx)(T,{title:"My Posts",Icon:z.a,id:"sbr_me",clickMe:function(){e.buttonActive("me")}})]}),Object(x.jsx)("div",{class:"leaderboard",children:Object(x.jsx)(T,{title:"Leader Board",Icon:A})})]})}}]),n}(c.a.Component)),P=(n(69),n(92)),F=n(48),E=n.n(F),q=n(47),D=n.n(q),R=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var s,c=e.props;return Object(r.a)(this,n),(s=t.call(this,c)).state={poster_display:"none"},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.id+" "+this.props.likes+" "+this.props.dislikes),O.subscribe((function(){e.setState({poster_display:O.getState().signedIn?"flex":"none"})}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{class:"post",children:[Object(x.jsxs)("div",{class:"post_vote_section",children:[Object(x.jsx)(P.a,{children:Object(x.jsx)(D.a,{fontSize:"small"})}),Object(x.jsx)("h4",{style:{margin:0},children:this.props.likes-this.props.dislikes}),Object(x.jsx)(P.a,{children:Object(x.jsx)(E.a,{fontSize:"small"})})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"post_poster",style:{display:this.state.poster_display},children:[Object(x.jsx)(d.a,{className:"avaAvatar",src:this.props.profilePic,style:{margin:"3px",height:"24px",width:"24px"}}),Object(x.jsx)("span",{className:"post_poster_username",children:this.props.username}),Object(x.jsxs)("span",{className:"post_poster_time",children:["at ",this.props.date]})]}),Object(x.jsx)("div",{className:"post_title",children:Object(x.jsx)("h4",{children:this.props.title})}),Object(x.jsx)("img",{src:this.props.image,style:{margin:"5px",maxHeight:"300px",maxWidth:"100%"}}),Object(x.jsx)("div",{className:"post_details",children:this.props.details})]})]})}}]),n}(s.Component),G=(n(70),function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={post:[]},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.subscribe((function(){var t=O.getState().posts,n=[];t.forEach((function(e){n.push(Object(x.jsx)(R,{id:e.post_id,likes:e.upvotes,dislikes:e.downvotes,profilePic:e.user_image,username:e.name,date:e.timeposted,title:e.title,image:e.image_link,details:e.caption}))})),e.setState({post:n})}))}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"rightSection",children:this.state.post})}}]),n}(c.a.Component)),H=(n(71),function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"fullPage",children:[Object(x.jsx)(k,{}),Object(x.jsx)(B,{}),Object(x.jsx)("div",{className:"appBody",children:Object(x.jsx)(G,{})})]})}}]),n}(c.a.Component));a.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root")),v(),i()}},[[72,1,2]]]);
//# sourceMappingURL=main.6192c39d.chunk.js.map