(this.webpackJsonpmy_threads=this.webpackJsonpmy_threads||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(19),o=n.n(a),i=(n(57),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),c(e),a(e),o(e)}))}),r=n(8),l=n(9),p=n(12),d=n(11),u=(n(58),n(93)),j=n(31),b=n.n(j),h=n(36),g=n(35),m=n(6);var O=Object(h.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{signedIn:!1,name:"Sign In",user_image:"",points:"",accessToken:"",posts:[],postType:"public"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"userLogin":return Object(m.a)(Object(m.a)({},e),{},{signedIn:!0,name:t.payload.name,user_image:t.payload.user_image,points:t.payload.points,accessToken:t.payload.accessToken,postType:"new"});case"userLogout":return Object(m.a)(Object(m.a)({},e),{},{signedIn:!1,name:"Sign In",user_image:"",points:"",accessToken:"",postType:"public"});case"postTypeChange":return Object(m.a)(Object(m.a)({},e),{},{postType:t.payload});case"posts_add":return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(g.a)(e.posts),Object(g.a)(t.payload))});case"posts_replace":return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload});default:return e}}));function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n="http://ec2-52-206-109-241.compute-1.amazonaws.com:3000/team2practo/posts/";fetch(n+t,{method:"GET",credentials:"include",headers:{"Content-type":"application/json;charset=UTF-8",authorization:e}}).then((function(e){e.json().then((function(e){O.dispatch({type:"posts_replace",payload:e})})).catch((function(e){console.log("error 2 "+e)}))})).catch((function(e){console.log("error 1 "+e)}))}function v(){var e=O.getState();if(e.signedIn)switch(e.postType){case"new":f(e.accessToken,"");break;case"popular":f(e.accessToken,"popular");break;case"trending":f(e.accessToken,"trending");break;case"me":f(e.accessToken,"me");break;default:f(e.accessToken,"popular")}else f();return e.signedIn}var y=n(1),x=function(e){console.log(e)},k=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={name:"Sign In",user_image:"",points:"",accessToken:"",logout_display:"none",login_func:!0},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.subscribe((function(){var t=O.getState();e.setState({name:t.name,user_image:t.user_image,points:t.points,accessToken:t.accessToken})}))}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{class:"header",children:[Object(y.jsx)("div",{class:"left",children:Object(y.jsx)("img",{src:"logo.png",alt:"MyThreads",style:{height:"100%"},class:"clickable"})}),Object(y.jsxs)("div",{class:"right",children:[Object(y.jsx)(b.a,{clientId:"752169556635-q0u04asvqip10b7kcckntcfcltm6ek39.apps.googleusercontent.com",render:function(t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{class:"clickable",style:{display:"flex",alignItems:"center"},onClick:e.state.login_func?t.onClick:"",disabled:t.disabled,children:[Object(y.jsx)(u.a,{src:e.state.user_image,style:{margin:"10px"}}),Object(y.jsx)("h4",{style:{marginRight:"10px"},children:e.state.name})]})})},buttonText:"Login",onSuccess:function(t){!function(e){console.log(e);var t=new XMLHttpRequest;t.open("POST","http://ec2-52-206-109-241.compute-1.amazonaws.com:3000/team2practo/auth/api/oauth/"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){console.log("Signed in as: "+t.responseText);var e=JSON.parse(t.responseText);O.dispatch({type:"userLogin",payload:{signedIn:!0,name:e.name,user_image:e.image_link,points:e.points,accessToken:e.accessToken}}),v()},t.send("idtoken="+e.tokenId)}(t),e.setState({logout_display:"flex",login_func:!1})},onFailure:x,cookiePolicy:"single_host_origin"}),Object(y.jsx)(j.GoogleLogout,{clientId:"752169556635-q0u04asvqip10b7kcckntcfcltm6ek39.apps.googleusercontent.com",buttonText:"Logout",render:function(t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{class:"clickable",style:{display:e.state.logout_display,alignItems:"center",height:"20px"},onClick:t.onClick,disabled:t.disabled,children:Object(y.jsx)("h5",{style:{marginLeft:"10px",marginRight:"10px",marginBottom:"10px",marginTop:"10px"},children:"Logout"})})})},onLogoutSuccess:function(){fetch("http://ec2-52-206-109-241.compute-1.amazonaws.com:3000/team2practo/auth/api/logout",{method:"DELETE",credentials:"include",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:e.state.accessToken}}).then((function(t){t.json().then((function(t){O.dispatch({type:"userLogout"}),e.setState({logout_display:"none",login_func:!0}),v(),console.log(t)})).catch((function(e){console.log("error 2 "+e)}))})).catch((function(e){console.log("error 1 "+e)}))}})]})]})}}]),n}(c.a.Component),_=n(30);n(66);var T=function(e){var t=e.Icon,n=e.title,s=e.clickMe,c=e.id;return Object(y.jsxs)("div",{className:"sideBarRow",onClick:s,id:c,children:[Object(y.jsx)("span",{className:"icon",children:Object(y.jsx)(t,{})}),Object(y.jsx)("h4",{children:n})]})},w=n(44),I=n.n(w),C=n(43),S=n.n(C),L=n(45),M=n.n(L),N=n(46),B=n.n(N);var E=function(){return Object(y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 512.07 512.07",children:[Object(y.jsx)("path",{style:{fill:"#ca212e"},d:"M338.825 362.07l81.71-195-82.48-32.59 3.65 59.47-81.17-31.99-81.17 31.99 5.35-87.08-40.35-48.92-52.83-20.88 92.72 325zm-117.79-140h79v30h-79zm0 60h79v30h-79z"}),Object(y.jsx)("path",{style:{fill:"#ca212e"},d:"M215.375 96.91l-3.18 51.86 48.34-19.05 48.34 19.05c-.791-12.935-2.386-38.951-3.18-51.86l33.05-40.09-50.3-13L260.535 0l-27.91 43.82-50.3 13c7.972 9.663 25.227 30.588 33.05 40.09z"})]})},z=(n(67),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).buttonActive=s.buttonActive.bind(Object(_.a)(s)),s}return Object(l.a)(n,[{key:"buttonActive",value:function(e){if(O.dispatch({type:"postTypeChange",payload:e}),v()){var t=[document.getElementById("sbr_new"),document.getElementById("sbr_popular"),document.getElementById("sbr_trending"),document.getElementById("sbr_me")];switch(t.forEach((function(e){e.style.backgroundColor="transparent"})),e.charAt(0)){case"n":t[0].style.backgroundColor="darkgrey";break;case"p":t[1].style.backgroundColor="darkgrey";break;case"t":t[2].style.backgroundColor="darkgrey";break;case"m":t[3].style.backgroundColor="darkgrey"}}}},{key:"componentDidMount",value:function(){document.getElementById("sbr_new").style.backgroundColor="darkgrey"}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{class:"leftSection",children:[Object(y.jsxs)("div",{class:"sidebar",children:[Object(y.jsx)(T,{title:"New",Icon:S.a,id:"sbr_new",clickMe:function(){e.buttonActive("new")}}),Object(y.jsx)(T,{title:"Popular",Icon:I.a,id:"sbr_popular",clickMe:function(){e.buttonActive("popular")}}),Object(y.jsx)(T,{title:"Trending",Icon:M.a,id:"sbr_trending",clickMe:function(){e.buttonActive("trending")}}),Object(y.jsx)(T,{title:"My Posts",Icon:B.a,id:"sbr_me",clickMe:function(){e.buttonActive("me")}})]}),Object(y.jsx)("div",{class:"leaderboard",children:Object(y.jsx)(T,{title:"Leader Board",Icon:E})})]})}}]),n}(c.a.Component)),A=(n(69),n(92)),F=n(48),P=n.n(F),q=n(47),D=n.n(q),R=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var s,c=e.props;return Object(r.a)(this,n),(s=t.call(this,c)).state={poster_display:"none"},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.id+" "+this.props.likes+" "+this.props.dislikes),O.subscribe((function(){e.setState({poster_display:O.getState().signedIn?"flex":"none"})}))}},{key:"render",value:function(){return Object(y.jsxs)("div",{class:"post",children:[Object(y.jsxs)("div",{class:"post_vote_section",children:[Object(y.jsx)(A.a,{children:Object(y.jsx)(D.a,{fontSize:"small"})}),Object(y.jsx)("h4",{style:{margin:0},children:this.props.likes-this.props.dislikes}),Object(y.jsx)(A.a,{children:Object(y.jsx)(P.a,{fontSize:"small"})})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"post_poster",style:{display:this.state.poster_display},children:[Object(y.jsx)(u.a,{className:"avaAvatar",src:this.props.profilePic,style:{margin:"3px",height:"24px",width:"24px"}}),Object(y.jsx)("span",{className:"post_poster_username",children:this.props.username}),Object(y.jsxs)("span",{className:"post_poster_time",children:["at ",this.props.date]})]}),Object(y.jsx)("div",{className:"post_title",children:Object(y.jsx)("h4",{children:this.props.title})}),Object(y.jsx)("img",{src:this.props.image,style:{margin:"5px",maxHeight:"300px",maxWidth:"100%"}}),Object(y.jsx)("div",{className:"post_details",children:this.props.details})]})]})}}]),n}(s.Component),H=(n(70),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={post:[]},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.subscribe((function(){var t=O.getState().posts,n=[];t.forEach((function(e){n.push(Object(y.jsx)(R,{id:e.post_id,likes:e.upvotes,dislikes:e.downvotes,profilePic:e.user_image,username:e.name,date:e.timeposted,title:e.title,image:e.image_link,details:e.caption}))})),e.setState({post:n})}))}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"rightSection",children:this.state.post})}}]),n}(c.a.Component)),J=(n(71),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"fullPage",children:[Object(y.jsx)(k,{}),Object(y.jsx)(z,{}),Object(y.jsx)("div",{className:"appBody",children:Object(y.jsx)(H,{})})]})}}]),n}(c.a.Component));o.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(J,{})}),document.getElementById("root")),v(),i()}},[[72,1,2]]]);
//# sourceMappingURL=main.7c39adc7.chunk.js.map